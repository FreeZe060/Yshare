openapi: 3.0.0
info:
    title: YShare API
    version: 1.1.2
    description: Documentation de l'API RESTful pour la plateforme YShare.

servers:
    - url: http://localhost:8080/api/v1/
      description: Serveur local
    - url: https://api.yshare.com/api/v1/
      description: Serveur production

tags:
    - name: Auth
      description: Authentification des utilisateurs
    - name: Users
      description: Gestion des utilisateurs
    - name: Events
      description: Gestion des √©v√©nements
    - name: Comments
      description: Commentaires et r√©ponses
    - name: Participants
      description: Gestion des participants
    - name: Notifications
      description: Gestion des notifications
    - name: News
      description: Actualit√©s li√©es aux √©v√©nements
    - name: Favorites
      description: √âv√©nements favoris

security:
    - bearerAuth: []
paths:
    /participants/all:
        get:
            tags: [Participants]
            summary: Obtenir tous les participants (admin)
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Liste de tous les participants

    /users/{userId}/participation-count:
        get:
            tags: [Participants]
            summary: Compteur de participation d'un utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Compte de participations

    /events/{eventId}/participants/all:
        get:
            tags: [Participants]
            summary: Obtenir les participants d‚Äôun √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des participants

    /events/{eventId}/participants/user/{userId}:
        get:
            tags: [Participants]
            summary: Obtenir la participation d‚Äôun utilisateur √† un √©v√©nement
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tail de la participation

    /events/{eventId}/participants:
        post:
            tags: [Participants]
            summary: Participer √† un √©v√©nement
            description: |
                Requiert une authentification par token JWT.
                L'utilisateur doit √™tre connect√© pour s'inscrire √† un √©v√©nement.
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: Participation enregistr√©e.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "404":
                    description: √âv√©nement non trouv√©.
                description: |
                    Requiert une authentification.
                    L'utilisateur doit √™tre connect√© pour s'inscrire √† un √©v√©nement.
                responses:
                    "201":
                        description: Participation enregistr√©e.
                    "401":
                        description: Non authentifi√©.
                    "404":
                        description: √âv√©nement non trouv√©.
                security:
                    - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "201":
                          description: Participation enregistr√©e

    /admin/events/{eventId}/participants/{userId}:
        post:
            tags: [Participants]
            summary: Ajouter un participant en tant qu‚Äôadmin
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "201":
                    description: Participant ajout√©

    /events/{eventId}/participants/{participantId}:
        put:
            tags: [Participants]
            summary: Mettre √† jour le statut d‚Äôun participant
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: participantId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Statut mis √† jour

    /events/{eventId}/participants/{userId}:
        delete:
            tags: [Participants]
            summary: Supprimer un participant d‚Äôun √©v√©nement
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Participant supprim√©

    /participants/history/{userId}:
        get:
            tags: [Participants]
            summary: Historique des √©v√©nements d‚Äôun utilisateur
            security:
                - bearerAuth: []
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Historique r√©cup√©r√©

    /conversations:
        get:
            tags: [Conversations]
            summary: Obtenir toutes les conversations (admin)
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Conversations r√©cup√©r√©es

        post:
            tags: [Conversations]
            summary: Cr√©er ou r√©cup√©rer une conversation
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: Conversation cr√©√©e ou retrouv√©e

    /conversations/my:
        get:
            tags: [Conversations]
            summary: Obtenir les conversations de l'utilisateur connect√©
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Conversations personnelles r√©cup√©r√©es

    /conversations/{conversationId}:
        delete:
            tags: [Conversations]
            summary: Supprimer une conversation
            security:
                - bearerAuth: []
            parameters:
                - name: conversationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Conversation supprim√©e

    /conversations/{conversationId}/link:
        patch:
            tags: [Conversations]
            summary: Lier une conversation √† un √©v√©nement ou une news
            security:
                - bearerAuth: []
            parameters:
                - name: conversationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Conversation li√©e

    /conversations/{conversationId}/update-link:
        patch:
            tags: [Conversations]
            summary: Mettre √† jour le lien de la conversation
            security:
                - bearerAuth: []
            parameters:
                - name: conversationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Lien mis √† jour

    /conversations/{conversationId}/unlink:
        patch:
            tags: [Conversations]
            summary: Supprimer le lien avec un √©v√©nement ou une news
            security:
                - bearerAuth: []
            parameters:
                - name: conversationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Lien supprim√©

    /conversations/between/{user1Id}/{user2Id}:
        get:
            tags: [Conversations]
            summary: R√©cup√©rer la conversation entre deux utilisateurs (admin)
            security:
                - bearerAuth: []
            parameters:
                - name: user1Id
                  in: path
                  required: true
                  schema:
                      type: string
                - name: user2Id
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Conversation trouv√©e

    /messages:
        post:
            tags: [Messages]
            summary: Envoyer un message
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: Message envoy√©

    /messages/{messageId}:
        put:
            tags: [Messages]
            summary: Modifier un message
            security:
                - bearerAuth: []
            parameters:
                - name: messageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Message modifi√©

        delete:
            tags: [Messages]
            summary: Supprimer un message
            security:
                - bearerAuth: []
            parameters:
                - name: messageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Message supprim√©

    /messages/{messageId}/reactions:
        post:
            tags: [Messages]
            summary: R√©agir √† un message
            security:
                - bearerAuth: []
            parameters:
                - name: messageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "201":
                    description: R√©action ajout√©e

        delete:
            tags: [Messages]
            summary: Supprimer une r√©action
            security:
                - bearerAuth: []
            parameters:
                - name: messageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: R√©action supprim√©e

    /messages/{messageId}/seen:
        patch:
            tags: [Messages]
            summary: Marquer un message comme vu
            security:
                - bearerAuth: []
            parameters:
                - name: messageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Message marqu√© comme vu

    /categories:
        get:
            tags: [Categories]
            summary: R√©cup√©rer toutes les cat√©gories
            responses:
                "200":
                    description: Liste des cat√©gories

    /notifications:
        get:
            tags: [Notifications]
            summary: R√©cup√©rer toutes les notifications de l'utilisateur
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Liste des notifications

    /notifications/{notificationId}:
        get:
            tags: [Notifications]
            summary: Obtenir une notification par ID
            security:
                - bearerAuth: []
            parameters:
                - name: notificationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tail de la notification

        delete:
            tags: [Notifications]
            summary: Supprimer une notification
            security:
                - bearerAuth: []
            parameters:
                - name: notificationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Notification supprim√©e

    /notifications/{notificationId}/read:
        put:
            tags: [Notifications]
            summary: Marquer une notification comme lue
            security:
                - bearerAuth: []
            parameters:
                - name: notificationId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Notification lue

    /notifications/read-all:
        put:
            tags: [Notifications]
            summary: Marquer toutes les notifications comme lues
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Toutes les notifications lues

    /favoris:
        get:
            tags: [Favorites]
            summary: R√©cup√©rer tous les √©v√©nements favoris de l'utilisateur
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Liste des favoris

    /favoris/{eventId}:
        get:
            tags: [Favorites]
            summary: V√©rifier si un √©v√©nement est en favori
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tail du favori

        post:
            tags: [Favorites]
            summary: Ajouter un √©v√©nement aux favoris
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "201":
                    description: Favori ajout√©

        delete:
            tags: [Favorites]
            summary: Supprimer un √©v√©nement
            description: |
                Requiert une authentification par token JWT.
                L'utilisateur doit √™tre l'organisateur de l'√©v√©nement ou un administrateur.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: √âv√©nement supprim√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit  permissions insuffisantes.
                "404":
                    description: √âv√©nement non trouv√©.""
                description: |
                    üîê Requiert une authentification.
                    üéØ Accessible uniquement √† l'organisateur de l'√©v√©nement ou un administrateur.
                responses:
                    "200":
                        description: √âv√©nement supprim√© avec succ√®s.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: √âv√©nement non trouv√©. des favoris
                security:
                    - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "200":
                          description: Favori supprim√©

    /news:
        get:
            tags: [News]
            summary: R√©cup√©rer toutes les actualit√©s
            responses:
                "200":
                    description: Liste des actualit√©s
        post:
            tags: [News]
            summary: Cr√©er une nouvelle actualit√©
            description: |
                Requiert une authentification par token JWT.
                Tout utilisateur connect√© peut cr√©er une actualit√©.
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: News cr√©√©e.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                description: |
                    Requiert une authentification.
                    Un utilisateur connect√© peut publier une news li√©e √† un √©v√©nement.
                responses:
                    "201":
                        description: News cr√©√©e avec succ√®s.
                    "401":
                        description: Non authentifi√©.
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                content:
                                    type: string
                                image:
                                    type: string
                                    format: binary
                    responses:
                        "201":
                            description: News cr√©√©e

    /news/{newsId}/details:
        get:
            tags: [News]
            summary: D√©tail d'une actualit√©
            parameters:
                - name: newsId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tails de l'actualit√©

    /news/event/{eventId}:
        get:
            tags: [News]
            summary: R√©cup√©rer les news d'un √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des news li√©es √† l'√©v√©nement

    /news/my:
        get:
            tags: [News]
            summary: R√©cup√©rer les news de l'utilisateur connect√©
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: News de l'utilisateur

    /news/{newsId}:
        put:
            tags: [News]
            summary: Modifier une actualit√©
            description: Accessible uniquement √† l'auteur ou √† un administrateur.
            security:
                - bearerAuth: []
            parameters:
                - name: newsId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: News mise √† jour

        delete:
            tags: [News]
            summary: Supprimer une actualit√©
            description: |
                Requiert une authentification par token JWT.
                Seul l'auteur ou un administrateur peut supprimer une actualit√©.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: News supprim√©e.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit.
                "404":
                    description: News non trouv√©e.
                description: |
                    Requiert une authentification.
                    Seul l'auteur de la news ou un administrateur peut la supprimer.
                responses:
                    "200":
                        description: News supprim√©e.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: News non trouv√©e.
                    description: Accessible uniquement √† l'auteur ou √† un administrateur.
                security:
                    - bearerAuth: []
            parameters:
                - name: newsId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "200":
                          description: News supprim√©e

    /news/{newsId}/category:
        post:
            tags: [News]
            summary: Ajouter une cat√©gorie √† une news
            security:
                - bearerAuth: []
            parameters:
                - name: newsId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Cat√©gorie ajout√©e

    /news/{newsId}/category/{categoryId}:
        delete:
            tags: [News]
            summary: Supprimer une cat√©gorie d'une news
            security:
                - bearerAuth: []
            parameters:
                - name: newsId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: categoryId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Cat√©gorie supprim√©e

    /reports:
        get:
            tags: [Reports]
            summary: R√©cup√©rer tous les signalements (admin)
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Liste des signalements

        post:
            tags: [Reports]
            summary: Cr√©er un signalement
            description: |
                Requiert une authentification par token JWT.
                R√©serv√© aux utilisateurs administrateurs.
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: Signalement enregistr√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit  r√¥le administrateur requis.
                description: |
                    üîê Requiert une authentification.
                    üö® L'utilisateur doit √™tre administrateur.
                responses:
                    "201":
                        description: Signalement cr√©√©.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                security:
                    - bearerAuth: []
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                files:
                                    type: array
                                    items:
                                        type: string
                                        format: binary
                    responses:
                        "201":
                            description: Signalement cr√©√©

    /reports/{reportId}:
        get:
            tags: [Reports]
            summary: D√©tail d'un signalement
            security:
                - bearerAuth: []
            parameters:
                - name: reportId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tail du rapport

    /reports/{reportId}/messages:
        get:
            tags: [Reports]
            summary: Messages li√©s √† un signalement
            security:
                - bearerAuth: []
            parameters:
                - name: reportId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Messages du rapport

    /reports/{reportId}/reply:
        post:
            tags: [Reports]
            summary: R√©pondre √† un signalement
            security:
                - bearerAuth: []
            parameters:
                - name: reportId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                message:
                                    type: string
            responses:
                "200":
                    description: R√©ponse enregistr√©e

    /reports/{reportId}/status:
        put:
            tags: [Reports]
            summary: Mettre √† jour le statut d‚Äôun signalement
            security:
                - bearerAuth: []
            parameters:
                - name: reportId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                status:
                                    type: string
            responses:
                "200":
                    description: Statut mis √† jour

    /ratings/user/{userId}:
        get:
            tags: [Ratings]
            summary: Obtenir la note moyenne d‚Äôun utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Note moyenne

    /ratings:
        post:
            tags: [Ratings]
            summary: √âvaluer un √©v√©nement
            security:
                - bearerAuth: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                eventId:
                                    type: string
                                rating:
                                    type: number
            responses:
                "201":
                    description: √âvaluation enregistr√©e

    /events/{eventId}/comments:
        get:
            tags: [Comments]
            summary: Obtenir les commentaires d'un √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des commentaires

        post:
            tags: [Comments]
            summary: Ajouter un commentaire √† un √©v√©nement
            description: |
                Requiert une authentification par token JWT.
                Tout utilisateur connect√© peut commenter un √©v√©nement.
            security:
                - bearerAuth: []
            responses:
                "201":
                    description: Commentaire ajout√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "404":
                    description: √âv√©nement non trouv√©.
                description: |
                    Requiert une authentification.
                    Tout utilisateur connect√© peut commenter un √©v√©nement.
                responses:
                    "201":
                        description: Commentaire ajout√©.
                    "401":
                        description: Non authentifi√©.
                    "404":
                        description: √âv√©nement non trouv√©.
                security:
                    - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                content:
                                    type: string
                    responses:
                        "201":
                            description: Commentaire ajout√©

    /events/{eventId}/comments/{commentId}/reply:
        post:
            tags: [Comments]
            summary: R√©pondre √† un commentaire
            security:
                - bearerAuth: []
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                content:
                                    type: string
            responses:
                "201":
                    description: R√©ponse ajout√©e

    /comments/{commentId}:
        get:
            tags: [Admin]
            summary: Obtenir un commentaire par ID (admin)
            security:
                - bearerAuth: []
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tail du commentaire

        put:
            tags: [Comments]
            summary: Modifier un commentaire
            description: Accessible uniquement √† l'auteur ou √† un administrateur.
            security:
                - bearerAuth: []
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                content:
                                    type: string
            responses:
                "200":
                    description: Commentaire mis √† jour

        delete:
            tags: [Comments]
            summary: Supprimer un commentaire
            description: |
                Requiert une authentification par token JWT.
                Seul l'auteur du commentaire ou un administrateur peut le supprimer.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Commentaire supprim√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit.
                "404":
                    description: Commentaire non trouv√©.
                description: |
                    Requiert une authentification.
                    Seul l'auteur du commentaire ou un administrateur peut le supprimer.
                responses:
                    "200":
                        description: Commentaire supprim√©.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: Commentaire non trouv√©.
                security:
                    - bearerAuth: []
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "200":
                          description: Commentaire supprim√©

    /comments/all:
        get:
            tags: [Admin]
            summary: Obtenir tous les commentaires (admin)
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Liste de tous les commentaires

    /comments/{commentId}/replies:
        get:
            tags: [Comments]
            summary: Obtenir les r√©ponses √† un commentaire
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des r√©ponses

    /users/{userId}/comments:
        get:
            tags: [Comments]
            summary: Obtenir les commentaires d'un utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des commentaires de l'utilisateur

    /comments/{commentId}/reactions:
        get:
            tags: [Comments]
            summary: Obtenir les r√©actions d'un commentaire
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: R√©actions au commentaire

        post:
            tags: [Comments]
            summary: Ajouter une r√©action √† un commentaire
            security:
                - bearerAuth: []
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                type:
                                    type: string
            responses:
                "201":
                    description: R√©action ajout√©e

        delete:
            tags: [Comments]
            summary: Supprimer une r√©action √† un commentaire
            security:
                - bearerAuth: []
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: R√©action supprim√©e

    /comments/{commentId}/reactions/stats:
        get:
            tags: [Comments]
            summary: Obtenir les statistiques de r√©action d'un commentaire
            parameters:
                - name: commentId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Statistiques de r√©actions

    /events/{eventId}:
        put:
            tags: [Events]
            summary: Modifier un √©v√©nement
            description: |
                Requiert une authentification par token JWT.
                Seul l'organisateur ou un administrateur peut modifier un √©v√©nement.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: √âv√©nement mis √† jour.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit.
                "404":
                    description: √âv√©nement non trouv√©.
                description: |
                    Requiert une authentification.
                    Seul l'organisateur ou un administrateur peut modifier l'√©v√©nement.
                responses:
                    "200":
                        description: √âv√©nement mis √† jour.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: √âv√©nement non trouv√©.
                    description: Accessible uniquement √† l'organisateur de l'√©v√©nement ou √† un administrateur.
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                description:
                                    type: string
                                images:
                                    type: array
                                    items:
                                        type: string
                                        format: binary
                responses:
                    "200":
                        description: √âv√©nement mis √† jour

        delete:
            tags: [Events]
            summary: Supprimer un √©v√©nement
            description: |
                Requiert une authentification par token JWT.
                L'utilisateur doit √™tre l'organisateur de l'√©v√©nement ou un administrateur.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: √âv√©nement supprim√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit permissions insuffisantes.
                "404":
                    description: √âv√©nement non trouv√©.
                description: |
                    Requiert une authentification.
                    Accessible uniquement √† l'organisateur de l'√©v√©nement ou un administrateur.
                responses:
                    "200":
                        description: √âv√©nement supprim√© avec succ√®s.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: √âv√©nement non trouv√©.
                    description: Accessible uniquement √† l'organisateur de l'√©v√©nement ou √† un administrateur.
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "200":
                          description: √âv√©nement supprim√©

    /events/{eventId}/images:
        post:
            tags: [Events]
            summary: Ajouter des images √† un √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                images:
                                    type: array
                                    items:
                                        type: string
                                        format: binary
            responses:
                "200":
                    description: Images ajout√©es

    /events/{eventId}/images/{imageId}/main:
        put:
            tags: [Events]
            summary: D√©finir une image principale pour un √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
                - name: imageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Image principale d√©finie

    /events/images/{imageId}:
        delete:
            tags: [Events]
            summary: Supprimer une image d'un √©v√©nement
            parameters:
                - name: imageId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Image supprim√©e

    /events/{eventId}/status:
        patch:
            tags: [Events]
            summary: Mettre √† jour le statut d‚Äôun √©v√©nement
            parameters:
                - name: eventId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                status:
                                    type: string
            responses:
                "200":
                    description: Statut mis √† jour

    /events/update-statuses:
        patch:
            tags: [Events]
            summary: Mettre √† jour le statut de tous les √©v√©nements expir√©s automatiquement
            responses:
                "200":
                    description: Statuts mis √† jour

    /auth/google:
        get:
            tags: [Auth]
            summary: Redirection vers Google OAuth
            responses:
                "302":
                    description: Redirig√© vers Google

    /auth/google/callback:
        get:
            tags: [Auth]
            summary: Callback de Google OAuth
            responses:
                "200":
                    description: Authentification Google r√©ussie

    /auth/facebook:
        get:
            tags: [Auth]
            summary: Redirection vers Facebook OAuth
            responses:
                "302":
                    description: Redirig√© vers Facebook

    /auth/facebook/callback:
        get:
            tags: [Auth]
            summary: Callback de Facebook OAuth
            responses:
                "200":
                    description: Authentification Facebook r√©ussie

    /users:
        get:
            tags: [Admin]
            summary: R√©cup√©rer tous les utilisateurs (admin)
            responses:
                "200":
                    description: Liste des utilisateurs

    /users/{userId}/events:
        get:
            tags: [Admin]
            summary: R√©cup√©rer les √©v√©nements d‚Äôun utilisateur (admin)
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: √âv√©nements de l'utilisateur

    /admin/users:
        post:
            tags: [Admin]
            summary: Cr√©er un utilisateur en tant qu‚Äôadmin
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                password:
                                    type: string
                                name:
                                    type: string
                                lastname:
                                    type: string
            responses:
                "201":
                    description: Utilisateur admin cr√©√©

        /categories:
            post:
                tags: [Admin]
                summary: Cr√©er une cat√©gorie
                description: Accessible uniquement aux administrateurs.
                requestBody:
                    required: true
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    name:
                                        type: string
                responses:
                    "201":
                        description: Cat√©gorie cr√©√©e

    /categories/{id}:
        put:
            tags: [Admin]
            summary: Modifier une cat√©gorie
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
            responses:
                "200":
                    description: Cat√©gorie mise √† jour

        delete:
            tags: [Admin]
            summary: Supprimer une cat√©gorie
            description: Accessible uniquement aux administrateurs.
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Cat√©gorie supprim√©e

    /profile/{userId}:
        get:
            tags: [Users]
            summary: Obtenir le profil d'un utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tails du profil utilisateur
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/User"

        put:
            tags: [Users]
            summary: Modifier un profil utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                name:
                                    type: string
                                lastname:
                                    type: string
                                profileImage:
                                    type: string
                                    format: binary
            responses:
                "200":
                    description: Profil mis √† jour

    /profile/banner/{userId}:
        put:
            tags: [Users]
            summary: Mettre √† jour la banni√®re de profil
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                bannerImage:
                                    type: string
                                    format: binary
            responses:
                "200":
                    description: Banni√®re mise √† jour

    /users/{userId}:
        delete:
            tags: [Users]
            summary: Supprimer un utilisateur
            description: |
                Requiert une authentification par token JWT.
                Seul l'utilisateur lui-m√™me ou un administrateur peut le faire.
            security:
                - bearerAuth: []
            responses:
                "200":
                    description: Utilisateur supprim√©.
                "401":
                    description: L'utilisateur n'est pas connect√©.
                "403":
                    description: Acc√®s interdit.
                "404":
                    description: Utilisateur non trouv√©.
                description: |
                    Requiert une authentification.
                    L'utilisateur concern√© ou un administrateur peut effectuer cette action.
                responses:
                    "200":
                        description: Utilisateur supprim√©.
                    "401":
                        description: Non authentifi√©.
                    "403":
                        description: Acc√®s interdit.
                    "404":
                        description: Utilisateur non trouv√©.
                    description: Accessible uniquement √† l'utilisateur lui-m√™me ou √† un administrateur.
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
                  responses:
                      "200":
                          description: Utilisateur supprim√©

    /status/{userId}:
        patch:
            tags: [Users]
            summary: Mettre √† jour le statut d‚Äôun utilisateur
            description: |
                üîê Requiert une authentification.
                ‚ö†Ô∏è R√©serv√© aux administrateurs.
            responses:
                "200":
                    description: Statut mis √† jour.
                "401":
                    description: Non authentifi√©.
                "403":
                    description: Acc√®s interdit.
                "404":
                    description: Utilisateur non trouv√©. (admin)
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                status:
                                    type: string
                responses:
                    "200":
                        description: Statut mis √† jour

    /users/{userId}/event-history:
        get:
            tags: [Users]
            summary: Obtenir l‚Äôhistorique de participation d‚Äôun utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Historique de participation

    /users/{userId}/created-events:
        get:
            tags: [Users]
            summary: Obtenir les √©v√©nements cr√©√©s par un utilisateur
            parameters:
                - name: userId
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: Liste des √©v√©nements cr√©√©s

    /auth/check:
        get:
            tags: [Auth]
            summary: V√©rifier l'authentification de l'utilisateur connect√©
            responses:
                "200":
                    description: Utilisateur authentifi√©
                "401":
                    description: Non authentifi√©

    /logout:
        post:
            tags: [Auth]
            summary: D√©connexion de l'utilisateur
            responses:
                "200":
                    description: D√©connexion r√©ussie

    /register:
        post:
            tags: [Auth]
            summary: Enregistrement d'un nouvel utilisateur
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                password:
                                    type: string
                                name:
                                    type: string
                                lastname:
                                    type: string
                                profileImage:
                                    type: string
                                    format: binary
            responses:
                "201":
                    description: Utilisateur cr√©√©
                "400":
                    description: Erreur de validation

    /login:
        post:
            tags: [Auth]
            summary: Connexion utilisateur
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                email:
                                    type: string
                                password:
                                    type: string
            responses:
                "200":
                    description: Connexion r√©ussie
                "401":
                    description: Identifiants invalides

    /events:
        get:
            tags: [Events]
            summary: Obtenir tous les √©v√©nements
            responses:
                "200":
                    description: Liste des √©v√©nements
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: "#/components/schemas/Event"
        post:
            tags: [Events]
            summary: Cr√©er un √©v√©nement
            requestBody:
                required: true
                content:
                    multipart/form-data:
                        schema:
                            type: object
                            properties:
                                title:
                                    type: string
                                description:
                                    type: string
                                images:
                                    type: array
                                    items:
                                        type: string
                                        format: binary
            responses:
                "201":
                    description: √âv√©nement cr√©√©

    /events/{id}:
        get:
            tags: [Events]
            summary: Obtenir un √©v√©nement par ID
            parameters:
                - name: id
                  in: path
                  required: true
                  schema:
                      type: string
            responses:
                "200":
                    description: D√©tails de l'√©v√©nement
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/Event"
                "404":
                    description: √âv√©nement non trouv√©

components:
    securitySchemes:
        bearerAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
    schemas:
        Category:
            type: object
            properties:
                id:
                    type: integer
                name:
                    type: string
                parent_id:
                    type: integer
                display_order:
                    type: integer
        Comment:
            type: object
            properties:
                id:
                    type: integer
                id_event:
                    type: integer
                id_user:
                    type: integer
                title:
                    type: string
                message:
                    type: string
                id_comment:
                    type: integer
                date_posted:
                    type: string
                    format: date-time
        CommentReaction:
            type: object
            properties:
                id:
                    type: integer
                id_comment:
                    type: integer
                id_user:
                    type: integer
                emoji:
                    type: string
                date_reacted:
                    type: string
                    format: date-time
        Conversation:
            type: object
            properties:
                id:
                    type: integer
                user1_id:
                    type: integer
                user2_id:
                    type: integer
                normalized_user1_id:
                    type: integer
                normalized_user2_id:
                    type: integer
                event_id:
                    type: integer
                news_id:
                    type: integer
                created_at:
                    type: string
                    format: date-time
        EventCategory:
            type: object
            properties:
                id_event:
                    type: integer
                id_category:
                    type: integer
        EventGuest:
            type: object
            properties:
                id:
                    type: integer
                id_participant:
                    type: integer
                firstname:
                    type: string
                lastname:
                    type: string
                email:
                    type: string
        EventImage:
            type: object
            properties:
                id:
                    type: integer
                event_id:
                    type: integer
                image_url:
                    type: string
                is_main:
                    type: boolean
        event:
            type: object
            properties:
                id:
                    type: integer
                id_org:
                    type: integer
                title:
                    type: string
                description:
                    type: string
                price:
                    type: integer
                date_created:
                    type: string
                    format: date-time
                max_participants:
                    type: integer
                status:
                    type: string
                street:
                    type: string
                street_number:
                    type: string
                city:
                    type: string
                postal_code:
                    type: string
                start_time:
                    type: string
                    format: date-time
                end_time:
                    type: string
                    format: date-time
        Favoris:
            type: object
            properties:
                id_user:
                    type: integer
                id_event:
                    type: integer
        Message:
            type: object
            properties:
                id:
                    type: integer
                conversation_id:
                    type: integer
                sender_id:
                    type: integer
                content:
                    type: string
                reply_to_message_id:
                    type: integer
                emoji:
                    type: string
                sent_at:
                    type: string
                    format: date-time
                seen:
                    type: boolean
        NewsCategory:
            type: object
            properties:
                news_id:
                    type: integer
                category_id:
                    type: integer
        News:
            type: object
            properties:
                id:
                    type: integer
                title:
                    type: string
                content:
                    type: string
                image_url:
                    type: string
                date_posted:
                    type: string
                    format: date-time
                user_id:
                    type: integer
                event_id:
                    type: integer
        Notification:
            type: object
            properties:
                id:
                    type: integer
                id_user:
                    type: integer
                title:
                    type: string
                message:
                    type: string
                date_sent:
                    type: string
                    format: date-time
                read_status:
                    type: boolean
        Participant:
            type: object
            properties:
                id:
                    type: integer
                id_user:
                    type: integer
                id_event:
                    type: integer
                status:
                    type: string
                request_message:
                    type: string
                organizer_response:
                    type: string
                joined_at:
                    type: string
                    format: date-time
        Rating:
            type: object
            properties:
                id:
                    type: integer
                id_event:
                    type: integer
                id_user:
                    type: integer
                rating:
                    type: number
                message:
                    type: string
                date_rated:
                    type: string
                    format: date-time
        ReportFile:
            type: object
            properties:
                id:
                    type: integer
                report_id:
                    type: integer
                file_path:
                    type: string
        ReportMessage:
            type: object
            properties:
                id:
                    type: integer
                report_id:
                    type: integer
                sender_id:
                    type: integer
                message:
                    type: string
                date_sent:
                    type: string
                    format: date-time
        Report:
            type: object
            properties:
                id:
                    type: integer
                id_user:
                    type: integer
                id_event:
                    type: integer
                id_reported_user:
                    type: integer
                id_comment:
                    type: integer
                message:
                    type: string
                status:
                    type: string
                date_reported:
                    type: string
                    format: date-time
        User:
            type: object
            properties:
                id:
                    type: integer
                name:
                    type: string
                lastname:
                    type: string
                email:
                    type: string
                password:
                    type: string
                role:
                    type: string
                profileImage:
                    type: string
                provider:
                    type: string
                bio:
                    type: string
                city:
                    type: string
                street:
                    type: string
                streetNumber:
                    type: string
                bannerImage:
                    type: string
                status:
                    type: string
                phone:
                    type: string
                showEmail:
                    type: boolean
                showAddress:
                    type: boolean
                showPhone:
                    type: boolean
                birthdate:
                    type: string
                    format: date-time
                gender:
                    type: string
                linkedinUrl:
                    type: string
                instaUrl:
                    type: string
                websiteUrl:
                    type: string
